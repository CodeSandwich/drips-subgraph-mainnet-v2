specVersion: 0.0.2
schema:
  file: schema.graphql
dataSources:
  - kind: ethereum/contract
    name: RadicleRegistry
    network: mumbai
    source:
      address: "0xA709BaCA50C5f4D2CEec4a23B7cf0f341A2d3465"
      abi: RadicleRegistry
      startBlock: 23206965
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - FundingProject
      abis:
        - name: RadicleRegistry
          file: RadicleRegistry/abis/RadicleRegistry.json
        - name: DripsToken
          file: RadicleRegistry/abis/DripsToken.json
      eventHandlers:
        - event: NewProject(address,indexed address,indexed address,string)
          handler: handleNewProject
      file: RadicleRegistry/RadicleRegistry.wasm
  - kind: ethereum/contract
    name: DaiDripsHub
    network: mumbai
    source:
      address: "0x6FfBd10513f06253aFB298F0f7b7974693C1A8AB"
      abi: DaiDripsHub
      startBlock: 23206921
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      entities:
        - DaiDripsHub
      abis:
        - name: DaiDripsHub
          file: DaiDripsHub/abis/DaiDripsHub.json
      eventHandlers:
        - event: Collected(indexed address,uint128,uint128)
          handler: handleCollected
        - event: Dripping(indexed address,indexed address,uint128,uint64)
          handler: handleDrippingUpdate
      file: RadicleRegistry/RadicleRegistry.wasm
templates:
  - kind: ethereum/contract
    name: DripsToken
    network: mumbai
    source:
      abi: DripsToken
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.5
      language: wasm/assemblyscript
      file: templates/DripsToken/DripsToken.wasm
      entities:
        - FundingProject
        - TokenType
        - Token
      abis:
        - name: DripsToken
          file: DripsToken/abis/DripsToken.json
      eventHandlers:
        - event: NewType(indexed uint128,uint64,uint128,bool,string)
          handler: handleNewType
        - event: NewStreamingToken(indexed uint256,indexed address,indexed uint128,uint128,uint128)
          handler: handleNewStreamingToken
        - event: NewToken(indexed uint256,indexed address,indexed uint128,uint128)
          handler: handleNewToken
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer
        - event: NewContractURI(string)
          handler: handleNewContractURI
